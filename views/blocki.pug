extends layouts/authentication.pug

block content
    .container
        .row.justify-content-center
            .col-lg-5
                .card.shadow-lg.border-0.rounded-lg.mt-5
                    .card-header
                        h3(id="blockName",style="text-align:center").text-center.font-weight-light.my-4 #{name}
                        h5(style="text-align:center") (Control Button on/off)
                        h3(id="numBlock",style="text-align:center",hidden).text-center.font-weight-light.my-4 #{port}
                    .card-body
                        form
                            .form-group(class="checkbox",id="equipments")
                                each blocki, index in blocks 
                                    -let num= 'b'+index.toString();
                                    -let act = blocki.block.act;
                                    -let type = blocki.block.type;
                                    -let mask = blocki.block.mask
                                    -if(type ===1)    
                                        label(for=num) #{mask}

                                        br
                                        input(type="checkbox",id=num,class="blocki",checked =act,data-toggle="toggle",data-onstyle="success" data-offstyle="danger",data-width="200",data-on="ON", data-off= "OFF")
                                        br
                        script(src='https://code.jquery.com/jquery-3.3.1.js', crossorigin='anonymous')
                        script(src="/javascripts/controlBlock.js")
                    .card-footer.text-center
                        .row
                            .col-6 
                                .small
                                    a(href='/user') Return Dashoard
                            .col-6
                                .small
                                    a(href='/user/gui/blocks') Return Block table
                            .col-6    
                                .small
                                    a(href='/user/gui') Return config GUI

        .row.justify-content-center
            .col-lg-5
                .card.shadow-lg.border-0.rounded-lg.mt-5
                    .card-header
                        h3(id="blockName",style="text-align:center").text-center.font-weight-light.my-4 #{name}
                        h5(style="text-align:center") (Control Voltag ouput)
                        h3(id="numBlock",style="text-align:center",hidden).text-center.font-weight-light.my-4 #{port}
                    .card-body
                        form
                            each blocki, index in blocks 
                                -let num= 'b'+index.toString();
                                -let act = blocki.block.act;
                                -let type = blocki.block.type;
                                -let val = blocki.block.value.toString();
                                -if(type === 0)    
                                    //- <label for=num>Example range</label>
                                    //- <input type="range" class="custom-range" id="customRange1">
                                    input(type="text" ,class="span2" , data-slider-min="0" ,data-slider-max="100" ,data-slider-step="1" ,data-slider-value=val, id=num,  data-slider-handle="square")

                        //- link(href="https://redirector.eservice.emarsys.net/ui/latest/css/app.css" rel="stylesheet")
                        //- script(src='https://redirector.eservice.emarsys.net/ui/latest/js/app.js', crossorigin='anonymous')
                        script(src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.2/bootstrap-slider.min.js', crossorigin='anonymous')
                        
                        script(src='https://code.jquery.com/jquery-3.3.1.js', crossorigin='anonymous')
                        script(src="/javascripts/controlBlock.js")
                    .card-footer.text-center
                        .row
                            .col-6 
                                .small
                                    a(href='/user') Return Dashoard
                            .col-6
                                .small
                                    a(href='/user/gui/blocks') Return Block table
                            .col-6    
                                .small
                                    a(href='/user/gui') Return config GUI